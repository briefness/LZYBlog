import{_ as t,o as i,c as a,ag as e}from"./chunks/framework.CbQjVMS6.js";const o=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"posts/harmonyos/Code/HarmonyHub/oh_modules/@ohos/hypium/README.md","filePath":"posts/harmonyos/Code/HarmonyHub/oh_modules/@ohos/hypium/README.md"}'),l={name:"posts/harmonyos/Code/HarmonyHub/oh_modules/@ohos/hypium/README.md"};function n(h,s,p,d,k,r){return i(),a("div",null,[...s[0]||(s[0]=[e(`<div style="text-align:center;font-size:xxx-large;">Hypium</div><div style="text-align:center;">A unit test framework for OpenHarmonyOS application</div><h2 id="hypium是什么" tabindex="-1">Hypium是什么? <a class="header-anchor" href="#hypium是什么" aria-label="Permalink to &quot;Hypium是什么?&quot;">​</a></h2><hr><ul><li>Hypium是OpenHarmony上的测试框架，提供测试用例编写、执行、结果显示能力，用于OpenHarmony系统应用接口以及应用界面测试。</li><li>Hypium结构化模型：hypium工程主要由List.test.js与TestCase.test.js组成。</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>rootProject                  // Hypium工程根目录</span></span>
<span class="line"><span>├── moduleA</span></span>
<span class="line"><span>│   ├── src</span></span>
<span class="line"><span>│      ├── main                   // 被测试应用目录</span></span>
<span class="line"><span>│      ├── ohosTest               // 测试用例目录</span></span>
<span class="line"><span>│         ├── js/ets</span></span>
<span class="line"><span>│            └── test</span></span>
<span class="line"><span>│               └── List.test.js      // 测试用例加载脚本，ets目录下为.ets后缀</span></span>
<span class="line"><span>│               └── TestCase.test.js  // 测试用例脚本，ets目录下为.ets后缀</span></span>
<span class="line"><span>└── moduleB</span></span>
<span class="line"><span>    ...</span></span>
<span class="line"><span>│               └── List.test.js      // 测试用例加载脚本，ets目录下为.ets后缀</span></span>
<span class="line"><span>│               └── TestCase.test.js  // 测试用例脚本，ets目录下为.ets后缀</span></span></code></pre></div><h2 id="安装使用" tabindex="-1">安装使用 <a class="header-anchor" href="#安装使用" aria-label="Permalink to &quot;安装使用&quot;">​</a></h2><ul><li>方式一</li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ohpm i @ohos</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">hypium</span></span></code></pre></div><ul><li>方式二</li></ul><hr><ul><li>在DevEco Studio内使用Hypium</li><li>工程级oh-package.json5内配置:</li></ul><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dependencies&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;@ohos/hypium&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1.0.24&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>注： hypium服务于OpenHarmonyOS应用对外接口测试、系统对外接口测试（SDK中接口），完成HAP自动化测试。详细指导： <a href="https://developer.harmonyos.com/cn/develop/deveco-studio" target="_blank" rel="noreferrer">Deveco Studio</a></p><h4 id="通用语法" tabindex="-1">通用语法 <a class="header-anchor" href="#通用语法" aria-label="Permalink to &quot;通用语法&quot;">​</a></h4><ul><li>测试用例采用业内通用语法，describe代表一个测试套， it代表一条用例。</li></ul><table tabindex="0"><thead><tr><th>No.</th><th>API</th><th>功能说明</th></tr></thead><tbody><tr><td>1</td><td>describe</td><td>定义一个测试套，支持两个参数：测试套名称和测试套函数。其中测试套函数不能是异步函数</td></tr><tr><td>2</td><td>beforeAll</td><td>在测试套内定义一个预置条件，在所有测试用例开始前执行且仅执行一次，支持一个参数：预置动作函数。</td></tr><tr><td>3</td><td>beforeEach</td><td>在测试套内定义一个单元预置条件，在每条测试用例开始前执行，执行次数与it定义的测试用例数一致，支持一个参数：预置动作函数。</td></tr><tr><td>4</td><td>afterEach</td><td>在测试套内定义一个单元清理条件，在每条测试用例结束后执行，执行次数与it定义的测试用例数一致，支持一个参数：清理动作函数。</td></tr><tr><td>5</td><td>afterAll</td><td>在测试套内定义一个清理条件，在所有测试用例结束后执行且仅执行一次，支持一个参数：清理动作函数。</td></tr><tr><td>6</td><td>beforeItSpecified</td><td>@since1.0.15在测试套内定义一个单元预置条件，仅在指定测试用例开始前执行，支持两个参数：单个用例名称或用例名称数组、预置动作函数。</td></tr><tr><td>7</td><td>afterItSpecified</td><td>@since1.0.15在测试套内定义一个单元清理条件，仅在指定测试用例结束后执行，支持两个参数：单个用例名称或用例名称数组、清理动作函数</td></tr><tr><td>8</td><td>it</td><td>定义一条测试用例，支持三个参数：用例名称，过滤参数和用例函数。</td></tr><tr><td>9</td><td>expect</td><td>支持bool类型判断等多种断言方法。</td></tr><tr><td>10</td><td>xdescribe</td><td>@since1.0.17定义一个跳过的测试套，支持两个参数：测试套名称和测试套函数。</td></tr><tr><td>11</td><td>xit</td><td>@since1.0.17定义一条跳过的测试用例，支持三个参数：用例名称，过滤参数和用例函数。</td></tr></tbody></table><h4 id="断言库" tabindex="-1">断言库 <a class="header-anchor" href="#断言库" aria-label="Permalink to &quot;断言库&quot;">​</a></h4><ul><li>示例代码：</li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(\${actualvalue}).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">assertX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(\${expectvalue})</span></span></code></pre></div><ul><li>断言功能列表：</li></ul><table tabindex="0"><thead><tr><th style="text-align:left;">No.</th><th style="text-align:left;">API</th><th>功能说明</th></tr></thead><tbody><tr><td style="text-align:left;">1</td><td style="text-align:left;">assertClose</td><td>检验actualvalue和expectvalue(0)的接近程度是否是expectValue(1)</td></tr><tr><td style="text-align:left;">2</td><td style="text-align:left;">assertContain</td><td>检验actualvalue中是否包含expectvalue</td></tr><tr><td style="text-align:left;">3</td><td style="text-align:left;">assertDeepEquals</td><td>@since1.0.4 检验actualvalue和expectvalue(0)是否是同一个对象</td></tr><tr><td style="text-align:left;">4</td><td style="text-align:left;">assertEqual</td><td>检验actualvalue是否等于expectvalue[0]</td></tr><tr><td style="text-align:left;">5</td><td style="text-align:left;">assertFail</td><td>抛出一个错误</td></tr><tr><td style="text-align:left;">6</td><td style="text-align:left;">assertFalse</td><td>检验actualvalue是否是false</td></tr><tr><td style="text-align:left;">7</td><td style="text-align:left;">assertTrue</td><td>检验actualvalue是否是true</td></tr><tr><td style="text-align:left;">8</td><td style="text-align:left;">assertInstanceOf</td><td>检验actualvalue是否是expectvalue类型</td></tr><tr><td style="text-align:left;">9</td><td style="text-align:left;">assertLarger</td><td>检验actualvalue是否大于expectvalue</td></tr><tr><td style="text-align:left;">10</td><td style="text-align:left;">assertLess</td><td>检验actualvalue是否小于expectvalue</td></tr><tr><td style="text-align:left;">11</td><td style="text-align:left;">assertNaN</td><td>@since1.0.4 检验actualvalue是否是NaN</td></tr><tr><td style="text-align:left;">12</td><td style="text-align:left;">assertNegUnlimited</td><td>@since1.0.4 检验actualvalue是否等于Number.NEGATIVE_INFINITY</td></tr><tr><td style="text-align:left;">13</td><td style="text-align:left;">assertNull</td><td>检验actualvalue是否是null</td></tr><tr><td style="text-align:left;">14</td><td style="text-align:left;">assertPosUnlimited</td><td>@since1.0.4 检验actualvalue是否等于Number.POSITIVE_INFINITY</td></tr><tr><td style="text-align:left;">15</td><td style="text-align:left;">assertPromiseIsPending</td><td>@since1.0.4 检验actualvalue是否处于Pending状态【actualvalue为promse对象】</td></tr><tr><td style="text-align:left;">16</td><td style="text-align:left;">assertPromiseIsRejected</td><td>@since1.0.4 检验actualvalue是否处于Rejected状态【同15】</td></tr><tr><td style="text-align:left;">17</td><td style="text-align:left;">assertPromiseIsRejectedWith</td><td>@since1.0.4 检验actualvalue是否处于Rejected状态，并且比较执行的结果值【同15】</td></tr><tr><td style="text-align:left;">18</td><td style="text-align:left;">assertPromiseIsRejectedWithError</td><td>@since1.0.4 检验actualvalue是否处于Rejected状态并有异常，同时比较异常的类型和message值【同15】</td></tr><tr><td style="text-align:left;">19</td><td style="text-align:left;">assertPromiseIsResolved</td><td>@since1.0.4 检验actualvalue是否处于Resolved状态【同15】</td></tr><tr><td style="text-align:left;">20</td><td style="text-align:left;">assertPromiseIsResolvedWith</td><td>@since1.0.4 检验actualvalue是否处于Resolved状态，并且比较执行的结果值【同15】</td></tr><tr><td style="text-align:left;">21</td><td style="text-align:left;">assertThrowError</td><td>检验actualvalue抛出Error内容是否是expectValue</td></tr><tr><td style="text-align:left;">22</td><td style="text-align:left;">assertUndefined</td><td>检验actualvalue是否是undefined</td></tr><tr><td style="text-align:left;">23</td><td style="text-align:left;">not</td><td>@since1.0.4 断言结果取反</td></tr><tr><td style="text-align:left;">24</td><td style="text-align:left;">message</td><td>@since1.0.17自定义断言异常信息</td></tr></tbody></table><p>示例代码：</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { describe, it, expect } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@ohos/hypium&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> assertCloseTest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    describe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;assertClose&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      it</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;assertClose_success&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">assertClose</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">99</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, b);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span></code></pre></div><h4 id="公共系统能力" tabindex="-1">公共系统能力 <a class="header-anchor" href="#公共系统能力" aria-label="Permalink to &quot;公共系统能力&quot;">​</a></h4><table tabindex="0"><thead><tr><th>No.</th><th>API</th><th>功能描述</th></tr></thead><tbody><tr><td>1</td><td>existKeyword(keyword: string, timeout: number): boolean</td><td>@since1.0.3 hilog日志中查找指定字段是否存在，keyword是待查找关键字，timeout为设置的查找时间</td></tr><tr><td>2</td><td>actionStart(tag: string): void</td><td>@since1.0.3 cmd窗口输出开始tag</td></tr><tr><td>3</td><td>actionEnd(tag: string): void</td><td>@since1.0.3 cmd窗口输出结束tag</td></tr></tbody></table><p>示例代码：</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { describe, it, expect, SysTestKit} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@ohos/hypium&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> existKeywordTest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    describe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;existKeywordTest&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        it</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;existKeyword&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DEFAULT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">info</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;HelloTest&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isExist </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SysTestKit.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">existKeyword</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;HelloTest&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">info</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;isExist ------&gt;&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isExist);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { describe, it, expect, SysTestKit} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@ohos/hypium&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> actionTest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    describe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;actionTest&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        it</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;existKeyword&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DEFAULT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tag </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;[MyTest]&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			SysTestKit.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">actionStart</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(tag);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            //do something</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            SysTestKit.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">actionEnd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(tag);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="专项能力" tabindex="-1">专项能力 <a class="header-anchor" href="#专项能力" aria-label="Permalink to &quot;专项能力&quot;">​</a></h4><ul><li>测试用例属性筛选能力：hypium支持根据用例属性筛选执行指定测试用例，使用方式是先在测试用例上标记用例属性后，再在测试应用的启动shell命令后新增&quot; -s \${Key} \${Value}&quot;。</li></ul><table tabindex="0"><thead><tr><th>Key</th><th>含义说明</th><th>Value取值范围</th></tr></thead><tbody><tr><td>level</td><td>用例级别</td><td>&quot;0&quot;,&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;, 例如：-s level 1</td></tr><tr><td>size</td><td>用例粒度</td><td>&quot;small&quot;,&quot;medium&quot;,&quot;large&quot;, 例如：-s size small</td></tr><tr><td>testType</td><td>用例测试类型</td><td>&quot;function&quot;,&quot;performance&quot;,&quot;power&quot;,&quot;reliability&quot;,&quot;security&quot;,&quot;global&quot;,&quot;compatibility&quot;,&quot;user&quot;,&quot;standard&quot;,&quot;safety&quot;,&quot;resilience&quot;, 例如：-s testType function</td></tr></tbody></table><p>示例代码</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { describe, it, expect, TestType, Size, Level } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@ohos/hypium&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> attributeTest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    describe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;attributeTest&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        it</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;testAttributeIt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, TestType.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">FUNCTION</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Size.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">SMALLTEST</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Level.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">LEVEL0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">info</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Hello Test&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>示例命令</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">XX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> level</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> size</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> small</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> testType</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> function</span></span></code></pre></div><p>该命令的作用是：筛选测试应用中同时满足a）用例级别是1 b）用例粒度是small c）用例测试类型是function 三个条件的用例执行。</p><ul><li>测试套/测试用例名称筛选能力（测试套与用例名称用“#”号连接，多个用“,”英文逗号分隔）</li></ul><table tabindex="0"><thead><tr><th>Key</th><th>含义说明</th><th>Value取值范围</th></tr></thead><tbody><tr><td>class</td><td>指定要执行的测试套&amp;用例</td><td>\${describeName}#\${itName}，\${describeName} , 例如：-s class attributeTest#testAttributeIt</td></tr><tr><td>notClass</td><td>指定不执行的测试套&amp;用例</td><td>\${describeName}#\${itName}，\${describeName} , 例如：-s notClass attributeTest#testAttributeIt</td></tr></tbody></table><p>示例命令</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">XX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> class</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> attributeTest#testAttributeIt,abilityTest#testAbilityIt</span></span></code></pre></div><p>该命令的作用是：筛选测试应用中attributeTest测试套下的testAttributeIt测试用例，abilityTest测试套下的testAbilityIt测试用例，只执行这两条用例。</p><ul><li>其他能力</li></ul><table tabindex="0"><thead><tr><th>能力项</th><th>Key</th><th>含义说明</th><th>Value取值范围</th></tr></thead><tbody><tr><td>随机执行能力</td><td>random</td><td>测试套&amp;测试用例随机执行</td><td>true, 不传参默认为false， 例如：-s random true</td></tr><tr><td>空跑能力</td><td>dryRun</td><td>显示要执行的测试用例信息全集</td><td>true , 不传参默认为false，例如：-s dryRun true</td></tr><tr><td>异步超时能力</td><td>timeout</td><td>异步用例执行的超时时间</td><td>正整数 , 单位ms，例如：-s timeout 5000</td></tr></tbody></table><h5 id="约束限制" tabindex="-1">约束限制 <a class="header-anchor" href="#约束限制" aria-label="Permalink to &quot;约束限制&quot;">​</a></h5><p>随机执行能力和空跑能力从npm包1.0.3版本开始支持</p><h4 id="mock能力" tabindex="-1">Mock能力 <a class="header-anchor" href="#mock能力" aria-label="Permalink to &quot;Mock能力&quot;">​</a></h4><h5 id="约束限制-1" tabindex="-1">约束限制 <a class="header-anchor" href="#约束限制-1" aria-label="Permalink to &quot;约束限制&quot;">​</a></h5><p>单元测试框架Mock能力从npm包<a href="https://repo.harmonyos.com/#/cn/application/atomService/@ohos%2Fhypium/v/1.0.1" target="_blank" rel="noreferrer">1.0.1版本</a>开始支持</p><h2 id="约束" tabindex="-1">约束 <a class="header-anchor" href="#约束" aria-label="Permalink to &quot;约束&quot;">​</a></h2><hr><pre><code>本模块首批接口从OpenHarmony SDK API version 8开始支持。
</code></pre><h2 id="hypium开放能力隐私声明" tabindex="-1">Hypium开放能力隐私声明 <a class="header-anchor" href="#hypium开放能力隐私声明" aria-label="Permalink to &quot;Hypium开放能力隐私声明&quot;">​</a></h2><ul><li>我们如何收集和使用您的个人信息 您在使用集成了Hypium开放能力的测试应用时，Hypium不会处理您的个人信息。</li><li>SDK处理的个人信息 不涉及。</li><li>SDK集成第三方服务声明 不涉及。</li><li>SDK数据安全保护 不涉及。</li><li>SDK版本更新声明 为了向您提供最新的服务，我们会不时更新Hypium版本。我们强烈建议开发者集成使用最新版本的Hypium。</li></ul>`,54)])])}const y=t(l,[["render",n]]);export{o as __pageData,y as default};
