import{_ as a,o as e,c as t,ag as i}from"./chunks/framework.CbQjVMS6.js";const u=JSON.parse('{"title":"é¸¿è’™å¼€å‘è¿›é˜¶ï¼ˆåå…­ï¼‰ï¼šå…ƒæœåŠ¡ä¸ä¸‡èƒ½å¡ç‰‡ (Atomic Services & Cards)","description":"","frontmatter":{},"headers":[],"relativePath":"posts/harmonyos/Articles/ServiceWidgets.md","filePath":"posts/harmonyos/Articles/ServiceWidgets.md"}'),o={name:"posts/harmonyos/Articles/ServiceWidgets.md"};function n(r,s,l,p,d,c){return e(),t("div",null,[...s[0]||(s[0]=[i(`<h1 id="é¸¿è’™å¼€å‘è¿›é˜¶-åå…­-å…ƒæœåŠ¡ä¸ä¸‡èƒ½å¡ç‰‡-atomic-services-cards" tabindex="-1">é¸¿è’™å¼€å‘è¿›é˜¶ï¼ˆåå…­ï¼‰ï¼šå…ƒæœåŠ¡ä¸ä¸‡èƒ½å¡ç‰‡ (Atomic Services &amp; Cards) <a class="header-anchor" href="#é¸¿è’™å¼€å‘è¿›é˜¶-åå…­-å…ƒæœåŠ¡ä¸ä¸‡èƒ½å¡ç‰‡-atomic-services-cards" aria-label="Permalink to &quot;é¸¿è’™å¼€å‘è¿›é˜¶ï¼ˆåå…­ï¼‰ï¼šå…ƒæœåŠ¡ä¸ä¸‡èƒ½å¡ç‰‡ (Atomic Services &amp; Cards)&quot;">â€‹</a></h1><blockquote><p>ğŸ”— <strong>é¡¹ç›®åœ°å€</strong>ï¼š<a href="https://github.com/briefness/HarmonyDemo" target="_blank" rel="noreferrer">https://github.com/briefness/HarmonyDemo</a></p></blockquote><blockquote><p><strong>æ›´æ–°è¯´æ˜</strong>ï¼šæœ¬æ–‡å°†ä»‹ç»å¡ç‰‡çš„ <strong>æ¸²æŸ“åˆ†ç¦»æœºåˆ¶</strong> åŠå¼€å‘çº¦æŸã€‚</p></blockquote><h2 id="ä¸€ã€ç†è®ºåŸºç¡€-æ¸²æŸ“åˆ†ç¦»-snapshot-rendering" tabindex="-1">ä¸€ã€ç†è®ºåŸºç¡€ï¼šæ¸²æŸ“åˆ†ç¦» (Snapshot Rendering) <a class="header-anchor" href="#ä¸€ã€ç†è®ºåŸºç¡€-æ¸²æŸ“åˆ†ç¦»-snapshot-rendering" aria-label="Permalink to &quot;ä¸€ã€ç†è®ºåŸºç¡€ï¼šæ¸²æŸ“åˆ†ç¦» (Snapshot Rendering)&quot;">â€‹</a></h2><h3 id="_1-1-ä¸ºä»€ä¹ˆå¡ç‰‡çš„äº¤äº’å—é™" tabindex="-1">1.1 ä¸ºä»€ä¹ˆå¡ç‰‡çš„äº¤äº’å—é™ï¼Ÿ <a class="header-anchor" href="#_1-1-ä¸ºä»€ä¹ˆå¡ç‰‡çš„äº¤äº’å—é™" aria-label="Permalink to &quot;1.1 ä¸ºä»€ä¹ˆå¡ç‰‡çš„äº¤äº’å—é™ï¼Ÿ&quot;">â€‹</a></h3><p>ä¸‡èƒ½å¡ç‰‡ï¼ˆFormï¼‰ä¸æ˜¯ä¸€ä¸ªè¿·ä½  Appï¼Œè€Œæ˜¯ç”± <strong>SystemUI è¿›ç¨‹</strong> æ¸²æŸ“çš„ç•Œé¢ã€‚</p><div class="language-mermaid vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">graph TD</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    AppNode[&quot;App ä¸»è¿›ç¨‹ (Provider)&quot;] --&gt;|&quot;1. updateForm (æ•°æ®)&quot;| SysService[&quot;ç³»ç»ŸæœåŠ¡&quot;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    SysService --&gt;|&quot;2. ä»£ç†æ•°æ®&quot;| UiNode[&quot;SystemUI æ¡Œé¢è¿›ç¨‹ (Renderer)&quot;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    UiNode --&gt;|&quot;3. æ¸²æŸ“å¸ƒå±€&quot;| Screen[&quot;æ¡Œé¢å¡ç‰‡&quot;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    style AppNode fill:#f9f,stroke:#333</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    style UiNode fill:#bbf,stroke:#333</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    style SysService fill:#e2e2e2,stroke:#333</span></span></code></pre></div><ol><li><strong>è¿›ç¨‹åˆ†ç¦»</strong>: <ul><li><strong>App è¿›ç¨‹</strong>: è´Ÿè´£æä¾›æ•°æ® (<code>FormBindingData</code>)ã€‚</li><li><strong>SystemUI è¿›ç¨‹</strong>: è´Ÿè´£è§£æå¸ƒå±€ã€ç»˜åˆ¶å¡ç‰‡ã€‚</li></ul></li><li><strong>å®‰å…¨æ€§ä¸æ€§èƒ½</strong>: ä¸ºäº†ä¿è¯æ¡Œé¢æ€§èƒ½ï¼Œç³»ç»Ÿé™åˆ¶å¡ç‰‡æ‰§è¡Œå¤æ‚çš„ JS é€»è¾‘ã€é«˜é¢‘åŠ¨ç”»åŠå¤æ‚ Canvas ç»˜å›¾ã€‚</li></ol><h3 id="_1-2-å¿«ç…§æŠ€æœ¯" tabindex="-1">1.2 å¿«ç…§æŠ€æœ¯ <a class="header-anchor" href="#_1-2-å¿«ç…§æŠ€æœ¯" aria-label="Permalink to &quot;1.2 å¿«ç…§æŠ€æœ¯&quot;">â€‹</a></h3><p>å½“è°ƒç”¨ <code>updateForm</code> æ—¶ï¼Œç³»ç»Ÿåºåˆ—åŒ–å¸ƒå±€æ ‘ï¼Œæ¡Œé¢è¿›ç¨‹æ”¶åˆ°åè¿›è¡Œå¸ƒå±€æ›´æ–°ã€‚ è¿™ä½¿å¾—å¡ç‰‡éå¸¸çœç”µã€‚</p><h2 id="äºŒã€æ ¸å¿ƒç»„ä»¶-formprovider" tabindex="-1">äºŒã€æ ¸å¿ƒç»„ä»¶ï¼šFormProvider <a class="header-anchor" href="#äºŒã€æ ¸å¿ƒç»„ä»¶-formprovider" aria-label="Permalink to &quot;äºŒã€æ ¸å¿ƒç»„ä»¶ï¼šFormProvider&quot;">â€‹</a></h2><p>å¡ç‰‡çš„åå°é€»è¾‘æ˜¯ç”± <code>FormExtensionAbility</code> ç®¡ç†çš„ã€‚</p><h3 id="_2-1-ç”Ÿå‘½å‘¨æœŸ" tabindex="-1">2.1 ç”Ÿå‘½å‘¨æœŸ <a class="header-anchor" href="#_2-1-ç”Ÿå‘½å‘¨æœŸ" aria-label="Permalink to &quot;2.1 ç”Ÿå‘½å‘¨æœŸ&quot;">â€‹</a></h3><ul><li><code>onAddForm</code>: ç”¨æˆ·æŠŠå¡ç‰‡æ‹–åˆ°æ¡Œé¢ä¸Šã€‚</li><li><code>onUpdateForm</code>: å®šæ—¶åˆ·æ–°ï¼ˆæœ€å° 30 åˆ†é’Ÿï¼‰ã€‚</li><li><code>onRemoveForm</code>: ç”¨æˆ·ç§»é™¤å¡ç‰‡ã€‚</li></ul><div class="language-mermaid vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">graph TD</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    User[&quot;ç”¨æˆ·æ“ä½œ&quot;] --&gt;|&quot;æ·»åŠ å¡ç‰‡&quot;| OnAdd[&quot;onAddForm (åˆ›å»º ID)&quot;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    OnAdd --&gt;|&quot;è¿”å› BindingData&quot;| Show[&quot;æ˜¾ç¤º UI&quot;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Timer[&quot;ç³»ç»Ÿå®šæ—¶å™¨ (30min)&quot;] --&gt;|&quot;è§¦å‘&quot;| OnUpdate[&quot;onUpdateForm&quot;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    OnUpdate --&gt;|&quot;updateForm&quot;| Show</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    User --&gt;|&quot;ç§»é™¤å¡ç‰‡&quot;| OnRemove[&quot;onRemoveForm&quot;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    OnRemove --&gt;|&quot;æ¸…ç†&quot;| End[&quot;é”€æ¯ ID&quot;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    style OnAdd fill:#bbf,stroke:#333</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    style OnUpdate fill:#bbf,stroke:#333</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    style Show fill:#9f9,stroke:#333</span></span></code></pre></div><blockquote><p><strong>æœ€ä½³å®è·µ</strong>: åœ¨ <code>onUpdateForm</code> é‡Œï¼Œä¸è¦åšè€—æ—¶æ“ä½œã€‚é€šè¿‡ TaskPool å¼‚æ­¥è·å–æ•°æ®ï¼Œå†è°ƒç”¨ <code>formProvider.updateForm</code>ã€‚</p></blockquote><h2 id="ä¸‰ã€å¼€å‘çº¦æŸ-restrictions" tabindex="-1">ä¸‰ã€å¼€å‘çº¦æŸ (Restrictions) <a class="header-anchor" href="#ä¸‰ã€å¼€å‘çº¦æŸ-restrictions" aria-label="Permalink to &quot;ä¸‰ã€å¼€å‘çº¦æŸ (Restrictions)&quot;">â€‹</a></h2><p>ç”±äºæ¸²æŸ“æœºåˆ¶é™åˆ¶ï¼Œåªèƒ½ä½¿ç”¨ ArkTS çš„<strong>å­é›†</strong>ã€‚</p><ul><li>âŒ <strong>ä¸æ”¯æŒ</strong>: <code>List</code>, <code>Scroll</code> (é™¤äº†ç‰¹å®šç»„ä»¶), è‡ªå®šä¹‰ç»„ä»¶çš„å¤æ‚ç”Ÿå‘½å‘¨æœŸã€‚</li><li>âœ… <strong>æ”¯æŒ</strong>: <code>Column</code>, <code>Row</code>, <code>Image</code>, <code>Text</code>, <code>Button</code>.</li></ul><h2 id="å››ã€äº¤äº’-postcardaction" tabindex="-1">å››ã€äº¤äº’ï¼špostCardAction <a class="header-anchor" href="#å››ã€äº¤äº’-postcardaction" aria-label="Permalink to &quot;å››ã€äº¤äº’ï¼špostCardAction&quot;">â€‹</a></h2><p>å¡ç‰‡çš„ä¸»è¦äº¤äº’æ–¹å¼ã€‚</p><ul><li><strong>router</strong>: è·³å› Appã€‚</li><li><strong>call</strong>: åå°é™é»˜æ‰§è¡Œï¼ˆå¦‚ï¼šåˆ‡æ­Œï¼‰ã€‚ <ul><li>æ³¨æ„ï¼š<code>call</code> äº‹ä»¶æœ‰ 5 ç§’é™åˆ¶ã€‚è¶…æ—¶æœªè¿”å›ï¼Œç³»ç»Ÿä¼šç»ˆæ­¢ Actionã€‚</li></ul></li></ul><h2 id="äº”ã€æ€»ç»“" tabindex="-1">äº”ã€æ€»ç»“ <a class="header-anchor" href="#äº”ã€æ€»ç»“" aria-label="Permalink to &quot;äº”ã€æ€»ç»“&quot;">â€‹</a></h2><p>å¼€å‘å¡ç‰‡éœ€è¦éµå¾ª <strong>â€œå…‹åˆ¶â€</strong> çš„åŸåˆ™ã€‚ å®ƒæ˜¯ App çš„å»¶ä¼¸ï¼Œè´Ÿè´£å±•ç¤ºæ ¸å¿ƒä¿¡æ¯ã€‚</p><p>ä¸‹ä¸€ç¯‡ï¼Œå°†è¿›å…¥ <strong>æ€§èƒ½è°ƒä¼˜</strong>ï¼Œåˆ©ç”¨ Profiler è¿›è¡Œæ€§èƒ½åˆ†æã€‚</p>`,25)])])}const k=a(o,[["render",n]]);export{u as __pageData,k as default};
